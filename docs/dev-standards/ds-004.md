# Development Standard: DS-004 Type Aliases & Discriminated Unions

Standard ID: DS-004
Category: Typing / Modeling
Status: Accepted
Owner: Engineering
Last Updated: 2025-09-29
Version: 1.0.0

## 1. Summary

Encourages domain modeling via type aliases and discriminated unions instead of classes/enums to leverage structural typing and reduce runtime overhead.

## 2. Rationale

- Simplifies serialization & pattern matching.
- Reduces boilerplate vs class hierarchies.
- Improves exhaustiveness checking (with DS-008).

## 3. Normative Requirement Statement

> Domain variants MUST be represented as discriminated unions with a `kind` (or equivalent) discriminator; avoid class inheritance unless stateful behavior is required.

## 4. Scope

- Domain models, API DTOs.
- Out-of-scope: 3rd-party library patterns.

## 6. Examples

```ts
type TextChunk = { kind: 'chunk'; id: string; text: string }
type AttrAtom = { kind: 'attr'; path: string; value: string }
type RetrievalItem = TextChunk | AttrAtom
```

## 7. Implementation Guidance

- Use `as const` for discriminator values.

## 8. Tooling & Enforcement

- ESLint review guideline (manual for now).

## 10. Related Standards

- DS-008 exhaustive switches.

## 12. Risks if Violated

- Harder exhaustive checking, more runtime bugs.

## 19. Change Log

| Version | Date | Author | Change |
| ------- | ---- | ------ | ------ |
| 1.0.0 | 2025-09-02 | Eng | Initial version |

---
